<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript">
	onload = function () {
		
		// 1. 전체 선택 -> 개별 선택
		var chkAll = document.getElementById('chkAll');
		chkAll.addEventListener('click', function() {
			// chkAll의 checked속성 값을 class="chk"들에게 그대로 전달한다.
			// chkAll.checked            var chk_list = document.getElementsByClassName('chk')
			var chk_list = document.getElementsByClassName('chk');
			for(let i = 0; i < chk_list.length; i++) {
				chk_list[i].checked = chkAll.checked;
			}
		});
		
		// 2. 개별 선택 -> 전체 선택
		var chk_list = document.getElementsByClassName('chk');
		for(let i = 0; i < chk_list.length; i++) {
			// 개별 선택을 하나 클릭하면 개별선택 전체를 살펴보고, 하나라도 checked 가 없는 객체가 있으면
			// 전체 선택의 checked를 빼겠다.
			chk_list[i].addEventListener('click', function() {
				for(let j = 0; j < chk_list.length; j++) {
					var chkAll = document.getElementById('chkAll');
					if(chk_list[j].checked == false) {
						chkAll.checked = false;
						return;
					}
				}
				chkAll.checked = true;
			});
		}
		
	}
</script>
</head>
<body>
	<input type="checkbox" id="chkAll" /> 전체<br/><br/>
	<input type="checkbox" class="chk" /> 선택1<br/>
	<input type="checkbox" class="chk" /> 선택2<br/>
	<input type="checkbox" class="chk" /> 선택3<br/>
	<input type="checkbox" class="chk" /> 선택4<br/>
	<input type="checkbox" class="chk" /> 선택5<br/>
</body>
</html>